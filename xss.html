<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Site Scripting (XSS) - CyberSec Learning Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">

    <style>
        .orbitron { font-family: 'Orbitron', sans-serif; }
        .code-font { font-family: 'Courier New', monospace; }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
        .blink { animation: blink 1s infinite; }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(5px); }
            50% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
        .shake { animation: shake 0.5s; }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-white transition-colors duration-200">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="orbitron text-2xl font-bold text-blue-500 dark:text-blue-400">CyberSec Hub</a>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <div class="dropdown relative">
                        <button class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 focus:outline-none">
                            Threats <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div class="dropdown-menu">
                            <a href="phishing.html">Phishing</a>
                            <a href="spoofing.html">Spoofing</a>
                            <a href="adware.html">Adware</a>
                            <a href="ddos.html">DDoS</a>
                            <a href="mitm.html">Man-in-the-Middle</a>
                            <a href="sql-injection.html">SQL Injection</a>
                            <a href="zero-day.html">Zero-Day Exploits</a>
                            <a href="ransomware.html">Ransomware</a>
                            <a href="apt.html">APT</a>
                            <a href="credential-stuffing.html">Credential Stuffing</a>
                            <a href="xss.html">Cross-Site Scripting (XSS)</a>
                            <a href="ai-attacks.html">AI-Powered Attacks</a>
                            <a href="clickjacking.html">Clickjacking</a>
                            <a href="session-hijacking.html">Session Hijacking</a>
                            <a href="social-engineering.html">Social Engineering</a>
                        </div>
                    </div>
                    <a href="about.html" class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400">About</a>
                    <button id="darkModeToggle" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700">
                        <i class="fas fa-moon dark:text-yellow-300 text-gray-600"></i>
                    </button>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="darkModeToggle" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 mr-2">
                        <i class="fas fa-moon dark:text-yellow-300 text-gray-600"></i>
                    </button>
                    <button id="mobileMenuButton" class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobileMenu" class="md:hidden hidden bg-white dark:bg-gray-800 shadow-lg">
            <div class="dropdown">
                <button class="w-full text-left py-2 px-4 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                    Threats <i class="fas fa-chevron-down ml-1"></i>
                </button>
                <div class="dropdown-menu">
                    <a href="phishing.html">Phishing</a>
                    <a href="spoofing.html">Spoofing</a>
                    <a href="adware.html">Adware</a>
                    <a href="ddos.html">DDoS</a>
                    <a href="mitm.html">Man-in-the-Middle</a>
                    <a href="sql-injection.html">SQL Injection</a>
                    <a href="zero-day.html">Zero-Day Exploits</a>
                    <a href="ransomware.html">Ransomware</a>
                    <a href="apt.html">APT</a>
                    <a href="credential-stuffing.html">Credential Stuffing</a>
                    <a href="xss.html">Cross-Site Scripting (XSS)</a>
                    <a href="ai-attacks.html">AI-Powered Attacks</a>
                    <a href="clickjacking.html">Clickjacking</a>
                    <a href="session-hijacking.html">Session Hijacking</a>
                    <a href="social-engineering.html">Social Engineering</a>
                </div>
            </div>
            <a href="about.html" class="block py-2 px-4 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">About</a>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4">
        <h1 class="orbitron text-4xl font-bold mb-8 text-center">Cross-Site Scripting (XSS)</h1>

        <!-- Overview Section -->
        <section class="mb-12">
            <h2 class="orbitron text-2xl font-semibold mb-4">Overview</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold mb-2">What is XSS?</h3>
                    <p>Cross-Site Scripting (XSS) is a security vulnerability that allows attackers to inject malicious scripts into web pages viewed by other users. These scripts can steal sensitive information, manipulate page content, or perform actions on behalf of the user.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-2">Types of XSS</h3>
                    <ul class="list-disc pl-5">
                        <li>Stored XSS: Malicious script is stored on the target server</li>
                        <li>Reflected XSS: Malicious script is reflected off the web server</li>
                        <li>DOM-based XSS: Vulnerability exists in client-side code</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- XSS Simulation -->
        <section class="mb-12">
            <h2 class="orbitron text-2xl font-semibold mb-4">XSS Attack Simulation</h2>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">Simulation Controls</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="inputSanitization" class="block mb-2">Input Sanitization Level:</label>
                                <input type="range" id="inputSanitization" min="1" max="5" value="5" class="w-full">
                            </div>
                            <div>
                                <label for="scriptSophistication" class="block mb-2">Script Sophistication:</label>
                                <input type="range" id="scriptSophistication" min="1" max="5" value="5" class="w-full">
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="enableCSP" class="mr-2">
                                <label for="enableCSP">Enable Content Security Policy (CSP)</label>
                            </div>
                            <button id="startSimulation" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition">Start Simulation</button>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4">Simulation Results</h3>
                        <div id="simulationResults" class="space-y-2">
                            <p>Stored XSS: <span id="storedXSS">0</span></p>
                            <p>Reflected XSS: <span id="reflectedXSS">0</span></p>
                            <p>Blocked Attempts: <span id="blockedAttempts">0</span></p>
                            <p>Cookies Stolen: <span id="cookiesStolen">0</span></p>
                        </div>
                    </div>
                </div>
                <div class="mt-8">
                    <h3 class="text-xl font-semibold mb-2">Live Attack Log</h3>
                    <div id="attackLog" class="bg-gray-100 dark:bg-gray-700 p-4 rounded h-48 overflow-y-auto code-font"></div>
                </div>
            </div>
        </section>

        <!-- XSS Prevention -->
        <section class="mb-12">
            <h2 class="orbitron text-2xl font-semibold mb-4">XSS Prevention Techniques</h2>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <ul class="list-disc pl-5 space-y-2">
                    <li>Input Validation: Sanitize and validate all user inputs</li>
                    <li>Output Encoding: Encode dynamic content before rendering</li>
                    <li>Content Security Policy (CSP): Implement strict CSP headers</li>
                    <li>HttpOnly Cookies: Prevent JavaScript access to sensitive cookies</li>
                    <li>Use Framework Protection: Leverage built-in XSS protections in modern frameworks</li>
                </ul>
            </div>
        </section>

        <!-- Quiz Section -->
        <section>
            <h2 class="orbitron text-2xl font-semibold mb-4">XSS Quiz</h2>
            <div id="quiz" class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                <!-- Quiz questions will go here -->
            </div>
            <div id="quizResults" class="mt-4 hidden bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"></div>
        </section>
    </main>

    <script>
        // XSS Simulation
        const startSimulationBtn = document.getElementById('startSimulation');
        const inputSanitization = document.getElementById('inputSanitization');
        const scriptSophistication = document.getElementById('scriptSophistication');
        const enableCSP = document.getElementById('enableCSP');
        const attackLog = document.getElementById('attackLog');
        const storedXSSCount = document.getElementById('storedXSS');
        const reflectedXSSCount = document.getElementById('reflectedXSS');
        const blockedAttemptsCount = document.getElementById('blockedAttempts');
        const cookiesStolenCount = document.getElementById('cookiesStolen');

        startSimulationBtn.addEventListener('click', runSimulation);

        function runSimulation() {
            // Reset counters
            let storedXSS = 0;
            let reflectedXSS = 0;
            let blockedAttempts = 0;
            let cookiesStolen = 0;
            attackLog.innerHTML = '';

            const sanitizationLevel = parseInt(inputSanitization.value);
            const sophisticationLevel = parseInt(scriptSophistication.value);
            const cspEnabled = enableCSP.checked;

            let attempt = 1;

            const interval = setInterval(() => {
                if (attempt > 20) {
                    clearInterval(interval);
                    return;
                }

                const isBlocked = Math.random() * 5 < sanitizationLevel;
                const isSuccessful = Math.random() * 5 < sophisticationLevel;
                const isStoredXSS = Math.random() < 0.5;

                if (isBlocked || cspEnabled) {
                    blockedAttempts++;
                    logAttack(attempt, 'Blocked', 'CSP or sanitization prevented the attack');
                } else if (isSuccessful) {
                    if (isStoredXSS) {
                        storedXSS++;
                        logAttack(attempt, 'Stored XSS', 'Successfully executed');
                    } else {
                        reflectedXSS++;
                        logAttack(attempt, 'Reflected XSS', 'Successfully executed');
                    }

                    if (Math.random() < 0.3) {
                        cookiesStolen++;
                        logAttack(attempt, isStoredXSS ? 'Stored XSS' : 'Reflected XSS', 'Cookie stolen!');
                    }
                } else {
                    logAttack(attempt, 'Failed', 'Attack was unsuccessful');
                }

                // Update results
                storedXSSCount.textContent = storedXSS;
                reflectedXSSCount.textContent = reflectedXSS;
                blockedAttemptsCount.textContent = blockedAttempts;
                cookiesStolenCount.textContent = cookiesStolen;

                attempt++;
            }, 500);
        }

        function logAttack(attemptNumber, type, message) {
            const logEntry = document.createElement('div');
            logEntry.textContent = `[Attempt ${attemptNumber}] ${type}: ${message}`;
            logEntry.classList.add('mb-1');
            if (type.includes('XSS')) {
                logEntry.classList.add('text-red-500');
            } else if (type === 'Blocked') {
                logEntry.classList.add('text-green-500');
            }
            attackLog.appendChild(logEntry);
            attackLog.scrollTop = attackLog.scrollHeight;
        }

        // Quiz functionality
        function setupQuiz() {
            const quiz = document.getElementById('quiz');
            const quizResults = document.getElementById('quizResults');
            const questions = [
                {
                    question: "What is Cross-Site Scripting (XSS)?",
                    answers: [
                        "A method to secure websites",
                        "A vulnerability that allows attackers to inject malicious scripts",
                        "A way to encrypt sensitive data",
                        "A technique to prevent SQL injection"
                    ],
                    correct: 1
                },
                {
                    question: "Which type of XSS involves storing malicious scripts on the server?",
                    answers: [
                        "Reflected XSS",
                        "Stored XSS",
                        "DOM-based XSS",
                        "None of the above"
                    ],
                    correct: 1
                },
                {
                    question: "How can you prevent XSS attacks?",
                    answers: [
                        "Use input validation and output encoding",
                        "Enable Content Security Policy (CSP)",
                        "Use HttpOnly cookies",
                        "All of the above"
                    ],
                    correct: 3
                }
            ];

            let quizHTML = '';
            questions.forEach((q, index) => {
                quizHTML += `
                    <div class="mb-4">
                        <p class="font-semibold mb-2">${index + 1}. ${q.question}</p>
                        ${q.answers.map((answer, i) => `
                            <label class="block mb-2">
                                <input type="radio" name="q${index}" value="${i}" class="mr-2">
                                ${answer}
                            </label>
                        `).join('')}
                    </div>
                `;
            });
            quizHTML += '<button id="submitQuiz" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition">Submit Answers</button>';
            quiz.innerHTML = quizHTML;

            document.getElementById('submitQuiz').addEventListener('click', () => {
                let score = 0;
                questions.forEach((q, index) => {
                    const selected = document.querySelector(`input[name="q${index}"]:checked`);
                    if (selected && parseInt(selected.value) === q.correct) {
                        score++;
                    }
                });
                quizResults.innerHTML = `
                    <h3 class="text-xl font-semibold mb-2">Quiz Results</h3>
                    <p>You scored ${score} out of ${questions.length}.</p>
                `;
                quizResults.classList.remove('hidden');
            });
        }

        // Initialize page content
        document.addEventListener('DOMContentLoaded', () => {
            setupQuiz();
        });
    </script>
    <script src="script.js"></script>

</body>
</html>